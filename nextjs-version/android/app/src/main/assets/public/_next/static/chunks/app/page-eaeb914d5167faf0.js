(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5779:(e,a,s)=>{Promise.resolve().then(s.bind(s,7903))},7903:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>ei});var t=s(7943),l=s(8543),r=s(3720),n=s(2493),i=s(5088),d=s(8416),o=s(5222),c=s(8982),m=s(7512),x=s(1967),h=s(735);let f=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("textarea",{className:(0,h.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...l})});f.displayName="Textarea";var u=s(1331);let g=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(u.bL,{ref:a,className:(0,h.cn)("relative overflow-hidden",s),...r,children:[(0,t.jsx)(u.LM,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(p,{}),(0,t.jsx)(u.OK,{})]})});g.displayName=u.bL.displayName;let p=l.forwardRef((e,a)=>{let{className:s,orientation:l="vertical",...r}=e;return(0,t.jsx)(u.VM,{ref:a,orientation:l,className:(0,h.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,t.jsx)(u.lr,{className:"relative flex-1 rounded-full bg-border"})})});p.displayName=u.VM.displayName;var j=s(9740),N=s(8938),b=s(6311),y=s(8259),w=s(5402),v=s(7482);function k(e){let{chat:a,onUpdateChat:s}=e,[r,n]=(0,l.useState)(""),[i,h]=(0,l.useState)(!1),[u,p]=(0,l.useState)(""),[k,C]=(0,l.useState)(!0),A=(0,l.useRef)(null),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[a.messages,u]),(0,l.useEffect)(()=>{let e=()=>C(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);let E=async e=>{if(e.preventDefault(),!r.trim()||i)return;let t="local"===a.provider;if(!t&&!k){alert("Internet connection required for online models. Use local models for offline chat.");return}await w.G.hapticFeedback();let l={id:Date.now().toString(),role:"user",content:r.trim(),timestamp:new Date},d={...a,messages:[...a.messages,l],updatedAt:new Date};s(d),(0,j.wi)(d),n(""),h(!0),p("");try{t?await L(d):await z(d)}catch(e){console.error("Error:",e),alert("Error sending message. Please try again.")}finally{h(!1)}},L=async e=>{try{v.e.isModelLoaded(a.model)||await v.e.loadModel(a.model);let t=e.messages.map(e=>({role:e.role,content:e.content})),l=await v.e.chat(t),r="";for await(let e of l)r+=e,p(r);let n={id:Date.now().toString(),role:"assistant",content:r,timestamp:new Date},i={...e,messages:[...e.messages,n],updatedAt:new Date};2===i.messages.length&&(i.title=e.messages[0].content.slice(0,50)+(e.messages[0].content.length>50?"...":"")),s(i),(0,j.wi)(i),p("")}catch(e){throw console.error("Error with local model:",e),e}},z=async e=>{let t=(0,j.CG)(a.provider);if(!t){alert("Please add your ".concat(a.provider," API key in settings"));return}try{let l=(0,b.X)(a.provider,a.model,t),r=await (0,N.gM)({model:l,messages:e.messages.map(e=>({role:e.role,content:e.content}))}),n="";for await(let e of r.textStream)n+=e,p(n);let i={id:Date.now().toString(),role:"assistant",content:n,timestamp:new Date},d={...e,messages:[...e.messages,i],updatedAt:new Date};2===d.messages.length&&(d.title=e.messages[0].content.slice(0,50)+(e.messages[0].content.length>50?"...":"")),s(d),(0,j.wi)(d),p("")}catch(e){throw console.error("Error with online model:",e),e}},R="local"===a.provider,D=R||k;return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(g,{className:"flex-1 p-4",ref:A,children:(0,t.jsxs)("div",{className:"space-y-4 max-w-3xl mx-auto",children:[a.messages.map(e=>(0,t.jsxs)("div",{className:"flex gap-3 ".concat("user"===e.role?"justify-end":"justify-start"),children:["assistant"===e.role&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(R?"bg-green-500":"bg-blue-500"),children:(0,t.jsx)(o.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:"max-w-[80%] rounded-2xl px-4 py-2 ".concat("user"===e.role?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white"),children:"assistant"===e.role?(0,t.jsx)(y.oz,{children:e.content}):(0,t.jsx)("p",{className:"whitespace-pre-wrap",children:e.content})}),"user"===e.role&&(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-500 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(c.A,{className:"w-4 h-4 text-white"})})]},e.id)),u&&(0,t.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(R?"bg-green-500":"bg-blue-500"),children:(0,t.jsx)(o.A,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:"max-w-[80%] rounded-2xl px-4 py-2 bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",children:[(0,t.jsx)(y.oz,{children:u}),(0,t.jsx)("div",{className:"inline-block w-2 h-4 animate-pulse ml-1 ".concat(R?"bg-green-500":"bg-blue-500")})]})]}),i&&!u&&(0,t.jsxs)("div",{className:"flex gap-3 justify-start",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(R?"bg-green-500":"bg-blue-500"),children:(0,t.jsx)(o.A,{className:"w-4 h-4 text-white"})}),(0,t.jsx)("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-2xl px-4 py-2",children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}),!D&&(0,t.jsx)("div",{className:"px-4 py-2 bg-orange-50 dark:bg-orange-900/20 border-t border-orange-200 dark:border-orange-800",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-orange-700 dark:text-orange-300",children:[(0,t.jsx)(m.A,{className:"w-4 h-4"}),"Offline - Switch to local models to continue chatting"]})}),(0,t.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4",children:(0,t.jsx)("form",{onSubmit:E,className:"max-w-3xl mx-auto",children:(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsx)(f,{ref:S,value:r,onChange:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),E(e))},placeholder:D?"Type your message...":"Go online or use local models to chat",className:"min-h-[44px] max-h-32 resize-none pr-12",disabled:i||!D})}),(0,t.jsx)(d.$,{type:"submit",size:"icon",disabled:!r.trim()||i||!D,className:"h-11 w-11 rounded-full",children:(0,t.jsx)(x.A,{className:"w-4 h-4"})})]})})})]})}var C=s(6106),A=s(9818),S=s(692),E=s(7571);let L=A.bL;A.l9,A.bm;let z=A.ZL,R=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.hJ,{className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:a})});R.displayName=A.hJ.displayName;let D=(0,S.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),P=l.forwardRef((e,a)=>{let{side:s="right",className:l,children:r,...n}=e;return(0,t.jsxs)(z,{children:[(0,t.jsx)(R,{}),(0,t.jsxs)(A.UC,{ref:a,className:(0,h.cn)(D({side:s}),l),...n,children:[r,(0,t.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});P.displayName=A.UC.displayName;let $=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};$.displayName="SheetHeader";let M=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.hE,{ref:a,className:(0,h.cn)("text-lg font-semibold text-foreground",s),...l})});M.displayName=A.hE.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.VY,{ref:a,className:(0,h.cn)("text-sm text-muted-foreground",s),...l})}).displayName=A.VY.displayName;var U=s(4776);function V(e){let{chats:a,activeChat:s,onSelectChat:l,onDeleteChat:n,open:i,onClose:o}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:flex w-80 border-r border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 flex-col",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,t.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Chat History"})}),(0,t.jsx)(g,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-2 space-y-1",children:a.map(e=>(0,t.jsxs)("div",{className:"group flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ".concat((null==s?void 0:s.id)===e.id?"bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>l(e),children:[(0,t.jsx)(r.A,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.provider," • ",(0,U.m)(new Date(e.updatedAt),{addSuffix:!0})]})]}),(0,t.jsx)(d.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),n(e.id)},children:(0,t.jsx)(C.A,{className:"w-4 h-4"})})]},e.id))})})]}),(0,t.jsx)(L,{open:i,onOpenChange:o,children:(0,t.jsxs)(P,{side:"left",className:"w-80",children:[(0,t.jsx)($,{children:(0,t.jsx)(M,{children:"Chat History"})}),(0,t.jsx)(g,{className:"flex-1 mt-4",children:(0,t.jsx)("div",{className:"space-y-1",children:a.map(e=>(0,t.jsxs)("div",{className:"group flex items-center gap-3 p-3 rounded-lg cursor-pointer transition-colors ".concat((null==s?void 0:s.id)===e.id?"bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800":"hover:bg-gray-100 dark:hover:bg-gray-700"),onClick:()=>{l(e),o()},children:[(0,t.jsx)(r.A,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:e.title}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.provider," • ",(0,U.m)(new Date(e.updatedAt),{addSuffix:!0})]})]}),(0,t.jsx)(d.$,{variant:"ghost",size:"sm",className:"opacity-0 group-hover:opacity-100 transition-opacity",onClick:a=>{a.stopPropagation(),n(e.id)},children:(0,t.jsx)(C.A,{className:"w-4 h-4"})})]},e.id))})})]})})]})}var _=s(5864),O=s(2285),I=s(3023);let J=A.bL;A.l9;let F=A.ZL;A.bm;let G=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.hJ,{ref:a,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l})});G.displayName=A.hJ.displayName;let H=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(F,{children:[(0,t.jsx)(G,{}),(0,t.jsxs)(A.UC,{ref:a,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[l,(0,t.jsxs)(A.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(E.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});H.displayName=A.UC.displayName;let Y=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};Y.displayName="DialogHeader";let T=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.hE,{ref:a,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",s),...l})});T.displayName=A.hE.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(A.VY,{ref:a,className:(0,h.cn)("text-sm text-muted-foreground",s),...l})}).displayName=A.VY.displayName;var q=s(9869),K=s(6331),Z=s(4570);let Q=q.bL;q.YJ;let W=q.WT,X=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(q.l9,{ref:a,className:(0,h.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[l,(0,t.jsx)(q.In,{asChild:!0,children:(0,t.jsx)(K.A,{className:"h-4 w-4 opacity-50"})})]})});X.displayName=q.l9.displayName;let B=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.PP,{ref:a,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(Z.A,{className:"h-4 w-4"})})});B.displayName=q.PP.displayName;let ee=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.wn,{ref:a,className:(0,h.cn)("flex cursor-default items-center justify-center py-1",s),...l,children:(0,t.jsx)(K.A,{className:"h-4 w-4"})})});ee.displayName=q.wn.displayName;let ea=l.forwardRef((e,a)=>{let{className:s,children:l,position:r="popper",...n}=e;return(0,t.jsx)(q.ZL,{children:(0,t.jsxs)(q.UC,{ref:a,className:(0,h.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[(0,t.jsx)(B,{}),(0,t.jsx)(q.LM,{className:(0,h.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(ee,{})]})})});ea.displayName=q.UC.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.JU,{ref:a,className:(0,h.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...l})}).displayName=q.JU.displayName;let es=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(q.q7,{ref:a,className:(0,h.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(q.VF,{children:(0,t.jsx)(I.A,{className:"h-4 w-4"})})}),(0,t.jsx)(q.p4,{children:l})]})});es.displayName=q.q7.displayName,l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(q.wv,{ref:a,className:(0,h.cn)("-mx-1 my-1 h-px bg-muted",s),...l})}).displayName=q.wv.displayName;var et=s(3041);function el(e){let{open:a,onClose:s,onSelect:r}=e,[n,i]=(0,l.useState)(""),[o,c]=(0,l.useState)(""),[x,h]=(0,l.useState)([]),[f,u]=(0,l.useState)(!0);(0,l.useEffect)(()=>{g();let e=()=>u(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);let g=async()=>{try{let e=await v.e.getDownloadedModels();h(e)}catch(e){console.error("Error checking downloaded models:",e)}},p=b.Q.filter(e=>e.isLocal?x.length>0:f&&null!==(0,j.CG)(e.id)),N=b.Q.find(e=>e.id===n);return(0,t.jsx)(J,{open:a,onOpenChange:s,children:(0,t.jsxs)(H,{className:"sm:max-w-md",children:[(0,t.jsx)(Y,{children:(0,t.jsxs)(T,{className:"flex items-center gap-2",children:["Select AI Model",f?(0,t.jsxs)(et.E,{variant:"outline",className:"text-green-600",children:[(0,t.jsx)(_.A,{className:"w-3 h-3 mr-1"}),"Online"]}):(0,t.jsxs)(et.E,{variant:"outline",className:"text-orange-600",children:[(0,t.jsx)(m.A,{className:"w-3 h-3 mr-1"}),"Offline"]})]})}),(0,t.jsx)("div",{className:"space-y-4",children:0===p.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:f?"No API keys configured and no local models available.":"No local models available. Download models in settings to chat offline."}),(0,t.jsx)(d.$,{variant:"outline",onClick:s,children:"Go to Settings"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Provider"}),(0,t.jsxs)(Q,{value:n,onValueChange:i,children:[(0,t.jsx)(X,{children:(0,t.jsx)(W,{placeholder:"Select a provider"})}),(0,t.jsx)(ea,{children:p.map(e=>(0,t.jsx)(es,{value:e.id,children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:e.name}),e.isLocal?(0,t.jsxs)(et.E,{variant:"secondary",className:"text-xs",children:[(0,t.jsx)(O.A,{className:"w-3 h-3 mr-1"}),"Local"]}):(0,t.jsx)(I.A,{className:"w-4 h-4 text-green-500"})]})},e.id))})]})]}),N&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 block",children:"Model"}),(0,t.jsxs)(Q,{value:o,onValueChange:c,children:[(0,t.jsx)(X,{children:(0,t.jsx)(W,{placeholder:"Select a model"})}),(0,t.jsx)(ea,{children:(N?N.isLocal?N.models.filter(e=>x.includes(e.id)):N.models:[]).map(e=>(0,t.jsx)(es,{value:e.id,children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-medium flex items-center gap-2",children:[e.name,e.isLocal&&(0,t.jsx)(et.E,{variant:"outline",className:"text-xs",children:e.size})]}),e.description&&(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.description})]})},e.id))})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,t.jsx)(d.$,{variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),(0,t.jsx)(d.$,{onClick:()=>{n&&o&&(r(n,o),i(""),c(""))},disabled:!n||!o,className:"flex-1",children:"Start Chat"})]})]})})]})})}var er=s(9550),en=s.n(er);function ei(){let[e,a]=(0,l.useState)([]),[s,o]=(0,l.useState)(null),[c,m]=(0,l.useState)(!1),[x,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(()=>{let e=(0,j._5)();a(e),e.length>0&&!s&&o(e[0])})()},[]);let f=(e,s)=>{let t=(0,j.RL)(e,s);a(e=>[t,...e]),o(t),h(!1)};return s||0!==e.length?(0,t.jsxs)("div",{className:"flex h-screen bg-white dark:bg-gray-900",children:[(0,t.jsx)(V,{chats:e,activeChat:s,onSelectChat:e=>{o(e),m(!1)},onDeleteChat:e=>{(0,j._e)(e);let t=(0,j._5)();a(t),(null==s?void 0:s.id)===e&&o(t[0]||null)},open:c,onClose:()=>m(!1)}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>m(!0),className:"md:hidden",children:(0,t.jsx)(r.A,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white",children:(null==s?void 0:s.title)||"New Chat"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[null==s?void 0:s.provider," • ",null==s?void 0:s.model]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.$,{variant:"ghost",size:"sm",onClick:()=>h(!0),children:(0,t.jsx)(n.A,{className:"w-4 h-4"})}),(0,t.jsx)(en(),{href:"/settings",children:(0,t.jsx)(d.$,{variant:"ghost",size:"sm",children:(0,t.jsx)(i.A,{className:"w-4 h-4"})})})]})]}),s&&(0,t.jsx)(k,{chat:s,onUpdateChat:e=>{o(e),a(a=>a.map(a=>a.id===e.id?e:a))}})]}),(0,t.jsx)(el,{open:x,onClose:()=>h(!1),onSelect:f}),(0,t.jsx)(d.$,{onClick:()=>h(!0),className:"fixed bottom-6 right-6 rounded-full w-14 h-14 shadow-lg md:hidden",size:"icon",children:(0,t.jsx)(n.A,{className:"w-6 h-6"})})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 dark:bg-gray-900 p-4",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)(r.A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Welcome to ChatFuse"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 max-w-md",children:"Start chatting with AI models from various providers. Add your API keys in settings to get started."})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)(d.$,{onClick:()=>h(!0),className:"flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-4 h-4"}),"New Chat"]}),(0,t.jsx)(en(),{href:"/settings",children:(0,t.jsxs)(d.$,{variant:"outline",className:"flex items-center gap-2",children:[(0,t.jsx)(i.A,{className:"w-4 h-4"}),"Settings"]})})]}),(0,t.jsx)(el,{open:x,onClose:()=>h(!1),onSelect:f})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[328,52,581,908,978,842,340,544,358],()=>a(5779)),_N_E=e.O()}]);