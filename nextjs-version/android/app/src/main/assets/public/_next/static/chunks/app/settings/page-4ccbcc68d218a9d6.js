(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{1122:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var r=a(7943),t=a(8543),l=a(7720),i=a(5284),d=a(7606),n=a(410),o=a(6106),c=a(8416),m=a(735);let x=t.forwardRef((e,s)=>{let{className:a,type:t,...l}=e;return(0,r.jsx)("input",{type:t,className:(0,m.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...l})});x.displayName="Input";var f=a(4737);let u=(0,a(692).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(f.b,{ref:s,className:(0,m.cn)(u(),a),...t})});h.displayName=f.b.displayName;let p=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});p.displayName="Card";let g=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("flex flex-col space-y-1.5 p-6",a),...t})});g.displayName="CardHeader";let j=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});j.displayName="CardTitle";let w=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("text-sm text-muted-foreground",a),...t})});w.displayName="CardDescription";let v=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("p-6 pt-0",a),...t})});v.displayName="CardContent",t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,m.cn)("flex items-center p-6 pt-0",a),...t})}).displayName="CardFooter";var y=a(9011);let N=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(y.bL,{className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...t,ref:s,children:(0,r.jsx)(y.zi,{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});N.displayName=y.bL.displayName;var b=a(2954);let k=b.bL,A=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(b.B8,{ref:s,className:(0,m.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});A.displayName=b.B8.displayName;let C=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(b.l9,{ref:s,className:(0,m.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});C.displayName=b.l9.displayName;let E=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(b.UC,{ref:s,className:(0,m.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});E.displayName=b.UC.displayName;var L=a(6311),S=a(9740),I=a(6086),R=a(5864),F=a(7512),M=a(227),z=a(49),P=a(2285),D=a(1580);let G=t.forwardRef((e,s)=>{let{className:a,value:t,...l}=e;return(0,r.jsx)(D.bL,{ref:s,className:(0,m.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,r.jsx)(D.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});G.displayName=D.bL.displayName;var _=a(3041),$=a(7482),B=a(5402);function K(e){let{onModelReady:s}=e,[a,l]=(0,t.useState)($.e.availableModels),[i,d]=(0,t.useState)(!1),[n,m]=(0,t.useState)(new Set),[x,f]=(0,t.useState)({}),[u,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{y(),N();let e=()=>h(navigator.onLine);return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]);let y=async()=>{try{let e=await $.e.isSupported();d(e)}catch(e){console.error("Error checking WebLLM support:",e),d(!1)}},N=async()=>{try{let e=await $.e.getDownloadedModels();l(s=>s.map(s=>({...s,downloaded:e.includes(s.id)})))}catch(e){console.error("Error checking downloaded models:",e)}},b=async e=>{if(!u){alert("Internet connection required to download models");return}try{await B.G.hapticFeedback(),m(s=>new Set([...s,e.id])),l(s=>s.map(s=>s.id===e.id?{...s,downloading:!0}:s)),await $.e.downloadModel(e.id,s=>{f(a=>({...a,[e.id]:s})),l(a=>a.map(a=>a.id===e.id?{...a,progress:s}:a))}),l(s=>s.map(s=>s.id===e.id?{...s,downloaded:!0,downloading:!1,progress:100}:s)),s&&s(e.id)}catch(s){console.error("Error downloading model:",s),alert("Failed to download model. Please try again."),l(s=>s.map(s=>s.id===e.id?{...s,downloading:!1,progress:0}:s))}finally{m(s=>{let a=new Set(s);return a.delete(e.id),a})}},k=async e=>{try{await B.G.hapticFeedback(),confirm("Delete ".concat(e.name,"? This will free up ").concat(e.size," of storage."))&&(await $.e.deleteModel(e.id),l(s=>s.map(s=>s.id===e.id?{...s,downloaded:!1,progress:0}:s)))}catch(e){console.error("Error deleting model:",e),alert("Failed to delete model. Please try again.")}};return i?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"Local AI Models"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Download models to chat offline"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:u?(0,r.jsxs)(_.E,{variant:"outline",className:"text-green-600",children:[(0,r.jsx)(R.A,{className:"w-3 h-3 mr-1"}),"Online"]}):(0,r.jsxs)(_.E,{variant:"outline",className:"text-orange-600",children:[(0,r.jsx)(F.A,{className:"w-3 h-3 mr-1"}),"Offline"]})})]}),(0,r.jsx)("div",{className:"grid gap-4",children:a.map(e=>(0,r.jsxs)(p,{children:[(0,r.jsx)(g,{className:"pb-3",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(j,{className:"text-base flex items-center gap-2",children:[e.name,e.downloaded&&(0,r.jsx)(M.A,{className:"w-4 h-4 text-green-500"})]}),(0,r.jsx)(w,{className:"text-sm",children:e.description})]}),(0,r.jsxs)(_.E,{variant:"secondary",className:"text-xs",children:[(0,r.jsx)(z.A,{className:"w-3 h-3 mr-1"}),e.size]})]})}),(0,r.jsxs)(v,{className:"pt-0",children:[e.downloading&&(0,r.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,r.jsx)("span",{children:"Downloading..."}),(0,r.jsxs)("span",{children:[x[e.id]||0,"%"]})]}),(0,r.jsx)(G,{value:x[e.id]||0})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[!e.downloaded&&!e.downloading&&(0,r.jsxs)(c.$,{onClick:()=>b(e),disabled:!u,size:"sm",className:"flex-1",children:[(0,r.jsx)(P.A,{className:"w-4 h-4 mr-2"}),"Download"]}),e.downloaded&&(0,r.jsxs)(c.$,{onClick:()=>k(e),variant:"outline",size:"sm",className:"flex-1",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]},e.id))})]}):(0,r.jsx)(p,{children:(0,r.jsxs)(g,{children:[(0,r.jsxs)(j,{className:"flex items-center gap-2",children:[(0,r.jsx)(I.A,{className:"w-5 h-5 text-orange-500"}),"Local Models Not Supported"]}),(0,r.jsx)(w,{children:"Your device or browser doesn't support running local AI models. This feature requires WebGPU support."})]})})}var O=a(9550),T=a.n(O);function U(){let[e,s]=(0,t.useState)({}),[a,m]=(0,t.useState)({}),[f,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e={};L.Q.filter(e=>!e.isLocal).forEach(s=>{let a=(0,S.CG)(s.id);a&&(e[s.id]=a)}),s(e);let a="true"===localStorage.getItem("darkMode");u(a),a&&document.documentElement.classList.add("dark")},[]);let y=(e,a)=>{a.trim()&&((0,S.wt)(e,a.trim()),s(s=>({...s,[e]:a.trim()})))},b=e=>{(0,S.kK)(e),s(s=>{let a={...s};return delete a[e],a})},I=e=>{m(s=>({...s,[e]:!s[e]}))},R=async e=>{u(e),localStorage.setItem("darkMode",e.toString()),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),await B.G.setStatusBarStyle(e)},F=L.Q.filter(e=>!e.isLocal);return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,r.jsx)(T(),{href:"/",children:(0,r.jsx)(c.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(l.A,{className:"w-4 h-4"})})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Settings"})]}),(0,r.jsxs)(k,{defaultValue:"general",className:"space-y-6",children:[(0,r.jsxs)(A,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)(C,{value:"general",children:"General"}),(0,r.jsx)(C,{value:"api-keys",children:"API Keys"}),(0,r.jsx)(C,{value:"local-models",children:"Local Models"})]}),(0,r.jsxs)(E,{value:"general",className:"space-y-6",children:[(0,r.jsxs)(p,{children:[(0,r.jsxs)(g,{children:[(0,r.jsx)(j,{children:"Appearance"}),(0,r.jsx)(w,{children:"Customize the look and feel of ChatFuse"})]}),(0,r.jsx)(v,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(h,{htmlFor:"dark-mode",children:"Dark Mode"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Switch between light and dark themes"})]}),(0,r.jsx)(N,{id:"dark-mode",checked:f,onCheckedChange:R})]})})]}),(0,r.jsxs)(p,{children:[(0,r.jsx)(g,{children:(0,r.jsx)(j,{children:"About ChatFuse"})}),(0,r.jsxs)(v,{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"ChatFuse is a minimalist mobile application that allows you to chat with various AI models from different providers. Your API keys and chat history are stored securely on your device."}),(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:"Version 1.0.0"})]})]})]}),(0,r.jsx)(E,{value:"api-keys",className:"space-y-6",children:(0,r.jsxs)(p,{children:[(0,r.jsxs)(g,{children:[(0,r.jsxs)(j,{className:"flex items-center gap-2",children:[(0,r.jsx)(i.A,{className:"w-5 h-5"}),"API Keys"]}),(0,r.jsx)(w,{children:"Add your API keys for different AI providers. Keys are stored securely on your device."})]}),(0,r.jsx)(v,{className:"space-y-4",children:F.map(t=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(h,{htmlFor:t.id,children:t.name}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(x,{id:t.id,type:a[t.id]?"text":"password",placeholder:"Enter your ".concat(t.name," API key"),value:e[t.id]||"",onChange:e=>s(s=>({...s,[t.id]:e.target.value})),onBlur:e=>y(t.id,e.target.value)}),(0,r.jsx)(c.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>I(t.id),children:a[t.id]?(0,r.jsx)(d.A,{className:"w-4 h-4"}):(0,r.jsx)(n.A,{className:"w-4 h-4"})})]}),e[t.id]&&(0,r.jsx)(c.$,{variant:"outline",size:"sm",onClick:()=>b(t.id),children:(0,r.jsx)(o.A,{className:"w-4 h-4"})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.description})]},t.id))})]})}),(0,r.jsx)(E,{value:"local-models",className:"space-y-6",children:(0,r.jsx)(K,{})})]})]})})}},7691:(e,s,a)=>{Promise.resolve().then(a.bind(a,1122))}},e=>{var s=s=>e(e.s=s);e.O(0,[328,581,908,630,842,340,544,358],()=>s(7691)),_N_E=e.O()}]);