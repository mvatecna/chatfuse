"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[842],{735:(e,t,r)=>{r.d(t,{cn:()=>n});var o=r(1682),i=r(9037);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,o.$)(t))}},3041:(e,t,r)=>{r.d(t,{E:()=>s});var o=r(7943),i=r(692),n=r(735);let a=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...i}=e;return(0,o.jsx)("div",{className:(0,n.cn)(a({variant:r}),t),...i})}},5402:(e,t,r)=>{r.d(t,{G:()=>u});var o=r(4626),i=r(9573),n=r(4337),a=r(1703),s=r(6169),d=r(7233),l=r(2681),c=r(5303);class u{static async initialize(){if(this.isNative)try{await n.S.hide(),await i.eA.setStyle({style:i.OF.Default}),await i.eA.setBackgroundColor({color:"#ffffff"}),a.s3.addListener("keyboardWillShow",()=>{document.body.classList.add("keyboard-open")}),a.s3.addListener("keyboardWillHide",()=>{document.body.classList.remove("keyboard-open")}),l.q.addListener("appStateChange",e=>{let{isActive:t}=e;console.log("App state changed. Is active?",t)}),l.q.addListener("backButton",e=>{let{canGoBack:t}=e;t?window.history.back():l.q.exitApp()})}catch(e){console.error("Error initializing Capacitor:",e)}}static async setStatusBarStyle(e){if(this.isNative)try{await i.eA.setStyle({style:e?i.OF.Dark:i.OF.Light}),await i.eA.setBackgroundColor({color:e?"#111827":"#ffffff"})}catch(e){console.error("Error setting status bar style:",e)}}static async hapticFeedback(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.kn.Light;if(this.isNative)try{await s.dn.impact({style:e})}catch(e){console.error("Error with haptic feedback:",e)}}static async shareText(e,t){if(!this.isNative){if(navigator.share)try{return await navigator.share({text:e,title:t}),!0}catch(e){console.error("Error sharing:",e)}return!1}try{return await d.S.share({text:e,title:t}),!0}catch(e){return console.error("Error sharing:",e),!1}}static async getDeviceInfo(){if(!this.isNative)return null;try{return await c.p.getInfo()}catch(e){return console.error("Error getting device info:",e),null}}static async closeKeyboard(){if(this.isNative)try{await a.s3.hide()}catch(e){console.error("Error hiding keyboard:",e)}}}u.isNative=o.Ii.isNativePlatform(),u.platform=o.Ii.getPlatform()},6311:(e,t,r)=>{r.d(t,{Q:()=>d,X:()=>l});var o=r(5268),i=r(82),n=r(845),a=r(381),s=r(4176);let d=[{id:"local",name:"Local Models",description:"AI models running locally on your device",isLocal:!0,models:[{id:"Llama-3.2-3B-Instruct-q4f32_1-MLC",name:"Llama 3.2 3B",description:"Fast and efficient model for general conversations",isLocal:!0,size:"2.0 GB"},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi 3.5 Mini",description:"Microsoft's compact model optimized for mobile",isLocal:!0,size:"2.2 GB"},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",description:"Lightweight model for basic conversations",isLocal:!0,size:"1.0 GB"},{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",description:"Google's efficient model for mobile devices",isLocal:!0,size:"1.4 GB"}]},{id:"openai",name:"OpenAI",description:"Get your API key from platform.openai.com",models:[{id:"gpt-4o",name:"GPT-4o",description:"Most capable model"},{id:"gpt-4o-mini",name:"GPT-4o Mini",description:"Fast and efficient"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",description:"Previous generation flagship"},{id:"gpt-3.5-turbo",name:"GPT-3.5 Turbo",description:"Fast and cost-effective"}]},{id:"anthropic",name:"Anthropic",description:"Get your API key from console.anthropic.com",models:[{id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",description:"Most capable model"},{id:"claude-3-5-haiku-20241022",name:"Claude 3.5 Haiku",description:"Fast and efficient"},{id:"claude-3-opus-20240229",name:"Claude 3 Opus",description:"Most powerful model"}]},{id:"google",name:"Google",description:"Get your API key from aistudio.google.com",models:[{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",description:"Most capable model"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",description:"Fast and efficient"},{id:"gemini-pro",name:"Gemini Pro",description:"Balanced performance"}]},{id:"xai",name:"xAI",description:"Get your API key from console.x.ai",models:[{id:"grok-3",name:"Grok 3",description:"Latest and most capable"},{id:"grok-2",name:"Grok 2",description:"Previous generation"}]},{id:"groq",name:"Groq",description:"Get your API key from console.groq.com",models:[{id:"llama-3.3-70b-versatile",name:"Llama 3.3 70B",description:"Most capable open model"},{id:"llama-3.1-8b-instant",name:"Llama 3.1 8B",description:"Fast and efficient"},{id:"mixtral-8x7b-32768",name:"Mixtral 8x7B",description:"Mixture of experts model"}]}];function l(e,t,r){if("local"===e)return{provider:"local",model:t};switch(e){case"openai":return(0,o.N)(t,{apiKey:r});case"anthropic":return(0,i.P)(t,{apiKey:r});case"google":return(0,n.q)(t,{apiKey:r});case"xai":return(0,a.v)(t,{apiKey:r});case"groq":return(0,s.w)(t,{apiKey:r});default:throw Error("Unsupported provider: ".concat(e))}}},7482:(e,t,r)=>{r.d(t,{e:()=>n});var o=r(8498);class i{async isSupported(){try{return await o.Xm("Llama-3.2-3B-Instruct-q4f32_1-MLC")!==void 0}catch(e){return!1}}async getDownloadedModels(){try{let e=[];for(let t of this.availableModels)await o.Xm(t.id)&&e.push(t.id);return e}catch(e){return console.error("Error checking downloaded models:",e),[]}}async downloadModel(e,t){try{t&&this.downloadCallbacks.set(e,t),this.engine=new o.Zz,await this.engine.reload(e,void 0,{initProgressCallback:t=>{let r=Math.round(100*(t.progress||0));this.downloadProgress.set(e,r);let o=this.downloadCallbacks.get(e);o&&o(r)}}),this.currentModel=e,this.downloadCallbacks.delete(e)}catch(t){throw console.error("Error downloading model:",t),this.downloadCallbacks.delete(e),t}}async loadModel(e){try{if(this.currentModel===e&&this.engine)return;this.engine||(this.engine=new o.Zz),await this.engine.reload(e),this.currentModel=e}catch(e){throw console.error("Error loading model:",e),e}}async deleteModel(e){try{this.currentModel===e&&(this.engine=null,this.currentModel=null),await o.Eg(e)}catch(e){throw console.error("Error deleting model:",e),e}}async chat(e){if(!this.engine||!this.currentModel)throw Error("No model loaded");try{let t=await this.engine.chat.completions.create({messages:e.map(e=>({role:e.role,content:e.content})),temperature:.7,stream:!0});return this.createAsyncIterable(t)}catch(e){throw console.error("Error in local chat:",e),e}}async *createAsyncIterable(e){try{for await(let o of e){var t,r;let e=null===(r=o.choices[0])||void 0===r?void 0:null===(t=r.delta)||void 0===t?void 0:t.content;e&&(yield e)}}catch(e){throw console.error("Error in stream:",e),e}}async getModelInfo(e){try{return{downloaded:!!await o.Xm(e),size:await this.getModelSize(e)}}catch(e){return console.error("Error getting model info:",e),{downloaded:!1,size:0}}}async getModelSize(e){return({"Llama-3.2-3B-Instruct-q4f32_1-MLC":2e3,"Phi-3.5-mini-instruct-q4f16_1-MLC":2200,"Qwen2.5-1.5B-Instruct-q4f16_1-MLC":1e3,"gemma-2-2b-it-q4f16_1-MLC":1400})[e]||1e3}getDownloadProgress(e){return this.downloadProgress.get(e)||0}isModelLoaded(e){return this.currentModel===e&&null!==this.engine}constructor(){this.engine=null,this.currentModel=null,this.downloadProgress=new Map,this.downloadCallbacks=new Map,this.availableModels=[{id:"Llama-3.2-3B-Instruct-q4f32_1-MLC",name:"Llama 3.2 3B",size:"2.0 GB",description:"Fast and efficient model for general conversations",downloaded:!1,downloading:!1,progress:0},{id:"Phi-3.5-mini-instruct-q4f16_1-MLC",name:"Phi 3.5 Mini",size:"2.2 GB",description:"Microsoft's compact model optimized for mobile",downloaded:!1,downloading:!1,progress:0},{id:"Qwen2.5-1.5B-Instruct-q4f16_1-MLC",name:"Qwen 2.5 1.5B",size:"1.0 GB",description:"Lightweight model for basic conversations",downloaded:!1,downloading:!1,progress:0},{id:"gemma-2-2b-it-q4f16_1-MLC",name:"Gemma 2 2B",size:"1.4 GB",description:"Google's efficient model for mobile devices",downloaded:!1,downloading:!1,progress:0}]}}let n=new i},8416:(e,t,r)=>{r.d(t,{$:()=>l});var o=r(7943),i=r(8543),n=r(8101),a=r(692),s=r(735);let d=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:r,variant:i,size:a,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,o.jsx)(u,{className:(0,s.cn)(d({variant:i,size:a,className:r})),ref:t,...c})});l.displayName="Button"},9740:(e,t,r)=>{r.d(t,{CG:()=>l,RL:()=>n,_5:()=>i,_e:()=>s,kK:()=>u,wi:()=>a,wt:()=>c});let o={CHATS:"chatfuse_chats",API_KEYS:"chatfuse_api_keys"};function i(){try{let e=localStorage.getItem(o.CHATS);if(!e)return[];return JSON.parse(e).map(e=>({...e,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt),messages:e.messages.map(e=>({...e,timestamp:new Date(e.timestamp)}))}))}catch(e){return console.error("Error loading chats:",e),[]}}function n(e,t){let r={id:Date.now().toString(),title:"New Chat",provider:e,model:t,messages:[],createdAt:new Date,updatedAt:new Date},o=i();return o.unshift(r),d(o),r}function a(e){let t=i(),r=t.findIndex(t=>t.id===e.id);-1!==r&&(t[r]=e,d(t))}function s(e){d(i().filter(t=>t.id!==e))}function d(e){try{localStorage.setItem(o.CHATS,JSON.stringify(e))}catch(e){console.error("Error saving chats:",e)}}function l(e){try{let t=localStorage.getItem(o.API_KEYS);if(!t)return null;return JSON.parse(t)[e]||null}catch(e){return console.error("Error loading API key:",e),null}}function c(e,t){try{let r=localStorage.getItem(o.API_KEYS),i=r?JSON.parse(r):{};i[e]=t,localStorage.setItem(o.API_KEYS,JSON.stringify(i))}catch(e){console.error("Error saving API key:",e)}}function u(e){try{let t=localStorage.getItem(o.API_KEYS);if(!t)return;let r=JSON.parse(t);delete r[e],localStorage.setItem(o.API_KEYS,JSON.stringify(r))}catch(e){console.error("Error removing API key:",e)}}}}]);